---
import PostPreview from './PostPreview.astro';
import type { Frontmatter } from '../types';

const { posts } = Astro.props;
const sortedPosts = posts
	.sort(
		(a: { frontmatter: Frontmatter }, b: { frontmatter: Frontmatter }) =>
			new Date(a.frontmatter.pubDate).getTime() - new Date(b.frontmatter.pubDate).getTime()
	)
	.reverse();
---

<div class="prose -mt-8 max-w-2xl mx-auto mb-32">
	{sortedPosts.map((post: Frontmatter) => <PostPreview post={post} />)}
</div>
